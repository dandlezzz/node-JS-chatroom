<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/style.css">
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="/js/client.js" type="text/javascript"></script>
        <script type="text/javascript">
            var socketio = io.connect("localhost");
            socketio.on("message_to_client", function(data) {
                $("#chatlog").append("<span class='user'>" + data['username'] +"</span>: " + data['message'] + "</br>");
            
            });
            function sendMessage() {
                var msg = $("#message_input").val();
                user();
                socketio.emit("message_to_server", { message : msg,
                                                     username : username});
            }
        </script>
    </head>
    <body>
        <div id="chatlog">
        </div>
        <div id="user">
            <label for='username'>Enter your username:</label>
            <input type ='text' id='username', name='username'></input>
            <button id='userButton'>Start the chat!</button>
        </div>
          <label for='msg'>Say Something: </label>
        <input type="text" id="message_input" name="msg"/>
        <button onclick="sendMessage()">Say!</button>        
    </body>
</html>